<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="廊坊非遗文创产品详情 - 了解非遗工艺背景与产品故事">
    <title>文创详情 - 廊坊非遗数字中心</title>

    <!-- 样式表 -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/animations.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        .detail-main {
            padding-top: var(--navbar-height, 80px);
            min-height: 100vh;
            background: linear-gradient(180deg, var(--color-ivory-white) 0%, var(--color-ivory-white-dark) 100%);
        }

        .detail-container {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--spacing-12) 0 var(--spacing-16);
        }

        /* 面包屑导航 */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--text-sm);
            color: var(--color-ink-gray-light);
            margin-bottom: var(--spacing-8);
        }

        .breadcrumb a {
            color: var(--color-palace-red);
            text-decoration: none;
            transition: color var(--duration-fast);
        }

        .breadcrumb a:hover {
            color: var(--color-gold);
        }

        .breadcrumb svg {
            width: 14px;
            height: 14px;
            color: var(--color-border-gray);
        }

        /* 产品展示卡片 */
        .product-card {
            background: white;
            border-radius: var(--radius-2xl);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        /* 图片区域 */
        .product-hero {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            background: linear-gradient(135deg, #f9f7f2, #ece8df);
        }

        .product-hero img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.6s ease;
        }

        .product-hero:hover img {
            transform: scale(1.03);
        }

        .product-hero .badge {
            position: absolute;
            top: var(--spacing-5);
            left: var(--spacing-5);
            padding: var(--spacing-2) var(--spacing-5);
            background: linear-gradient(135deg, var(--color-palace-red), #C63946);
            color: white;
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
            border-radius: var(--radius-full);
            box-shadow: 0 4px 12px rgba(157, 41, 51, 0.3);
            letter-spacing: 1px;
        }

        /* 产品信息区域 */
        .product-body {
            padding: var(--spacing-10) var(--spacing-10) var(--spacing-8);
        }

        .product-title {
            font-family: var(--font-serif);
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--color-ink-gray-dark);
            margin-bottom: var(--spacing-4);
            line-height: var(--leading-tight);
        }

        .product-price-row {
            display: flex;
            align-items: baseline;
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-8);
            padding-bottom: var(--spacing-6);
            border-bottom: 2px solid rgba(212, 175, 55, 0.15);
        }

        .product-price-current {
            font-size: var(--text-4xl);
            color: var(--color-palace-red);
            font-weight: var(--font-bold);
            font-family: "Georgia", serif;
        }

        .product-price-original {
            font-size: var(--text-lg);
            color: var(--color-ink-gray-light);
            text-decoration: line-through;
        }

        .product-discount {
            padding: var(--spacing-1) var(--spacing-3);
            background: rgba(157, 41, 51, 0.1);
            color: var(--color-palace-red);
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
            border-radius: var(--radius-sm);
        }

        /* 详情分区 */
        .detail-section {
            margin-bottom: var(--spacing-8);
        }

        .detail-section-title {
            font-family: var(--font-serif);
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--color-palace-red);
            margin-bottom: var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .detail-section-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, var(--color-gold), var(--color-gold-light));
            border-radius: 2px;
        }

        .detail-section p {
            font-size: var(--text-base);
            color: var(--color-ink-gray);
            line-height: var(--leading-relaxed);
        }

        /* 操作按钮 */
        .product-actions {
            display: flex;
            gap: var(--spacing-4);
            margin-top: var(--spacing-8);
            padding-top: var(--spacing-8);
            border-top: 1px solid var(--color-border-gray);
        }

        .action-btn-primary {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-2);
            padding: var(--spacing-4) var(--spacing-8);
            background: linear-gradient(135deg, var(--color-palace-red), #C63946);
            color: white;
            border: none;
            border-radius: var(--radius-full);
            font-size: var(--text-base);
            font-weight: var(--font-bold);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            letter-spacing: 1px;
        }

        .action-btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 24px rgba(157, 41, 51, 0.3);
        }

        .action-btn-secondary {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-2);
            padding: var(--spacing-4) var(--spacing-8);
            background: transparent;
            color: var(--color-gold-dark);
            border: 2px solid var(--color-gold);
            border-radius: var(--radius-full);
            font-size: var(--text-base);
            font-weight: var(--font-bold);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            letter-spacing: 1px;
        }

        .action-btn-secondary:hover {
            background: var(--color-gold);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 24px rgba(212, 175, 55, 0.3);
        }

        @media (max-width: 768px) {
            .product-body {
                padding: var(--spacing-6);
            }

            .product-title {
                font-size: var(--text-2xl);
            }

            .product-price-current {
                font-size: var(--text-3xl);
            }

            .product-actions {
                flex-direction: column;
            }

            .product-hero {
                aspect-ratio: 4 / 3;
            }
        }
    </style>
  <style>.page-loader{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background:#F5F0E8;display:flex;align-items:center;justify-content:center}.page-loader.hidden{opacity:0;visibility:hidden;pointer-events:none}@keyframes aosShow{to{opacity:1!important;transform:none!important}}[data-aos]:not(.aos-animate){animation:aosShow .6s ease-out 2.5s both}</style>
  <script>setTimeout(function(){var l=document.getElementById('pageLoader');if(l){l.style.transition='opacity 0.5s';l.style.opacity='0';setTimeout(function(){l.style.display='none'},600)}},3000);</script>
</head>

<body>
    <!-- 加载动画 -->
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <svg class="loader-icon" width="80" height="80" viewBox="0 0 80 80">
                <circle class="loader-circle" cx="40" cy="40" r="35" fill="none" stroke="#D4AF37" stroke-width="2" />
                <path class="loader-pattern" d="M40 10 L60 25 L60 55 L40 70 L20 55 L20 25 Z" fill="none"
                    stroke="#9D2933" stroke-width="2" />
            </svg>
            <p class="loader-text">数脉非遗 · 加载中</p>
        </div>
    </div>

    <!-- ========== 顶部导航栏 ========== -->
    <header class="navbar" id="navbar" role="banner">
        <div class="container">
            <a href="../../index.html" class="logo-group" aria-label="廊坊非遗数字中心首页">
                <svg class="logo-icon" width="50" height="50" viewBox="0 0 50 50" aria-hidden="true">
                    <defs>
                        <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#D4AF37" />
                            <stop offset="100%" stop-color="#F0D98C" />
                        </linearGradient>
                    </defs>
                    <polygon class="logo-outer" points="25,2 47,14 47,36 25,48 3,36 3,14" fill="none"
                        stroke="url(#goldGradient)" stroke-width="2" />
                    <polygon class="logo-inner" points="25,10 40,18 40,32 25,40 10,32 10,18" fill="none"
                        stroke="#9D2933" stroke-width="1.5" />
                    <circle cx="25" cy="25" r="6" fill="none" stroke="url(#goldGradient)" stroke-width="1" />
                    <circle cx="25" cy="25" r="2" fill="#9D2933" />
                </svg>
                <div class="logo-text">
                    <h1>廊坊非遗数字中心</h1>
                    <span class="logo-subtitle" lang="en">Langfang ICH Digital Center</span>
                </div>
            </a>
            <nav class="nav-menu" role="navigation" aria-label="主导航">
                <a href="../../index.html" class="nav-item" data-section="home"><span class="nav-icon" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><polyline points="9 22 9 12 15 12 15 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg></span><span class="nav-text">首页</span><span class="nav-underline"></span></a>
                <a href="museum.html" class="nav-item" data-section="museum"><span class="nav-icon" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3 21H21M5 21V7L12 3L19 7V21M9 21V13H15V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg></span><span class="nav-text">虚拟博物馆</span><span class="nav-underline"></span></a>
                <a href="experience.html" class="nav-item" data-section="experience"><span class="nav-icon" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg></span><span class="nav-text">互动体验</span><span class="nav-underline"></span></a>
                <a href="quiz.html" class="nav-item" data-section="quiz"><span class="nav-icon" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" /><path d="M9 9C9 7.5 10.5 6 12 6C13.5 6 15 7.5 15 9C15 10.5 13.5 11.5 12 12V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" /><circle cx="12" cy="17" r="1" fill="currentColor" /></svg></span><span class="nav-text">非遗答题</span><span class="nav-underline"></span></a>
                <a href="ai-guide.html" class="nav-item" data-section="ai-guide"><span class="nav-icon" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg></span><span class="nav-text">智能导览</span><span class="nav-underline"></span></a>
            </nav>
            <div class="nav-actions">
                <button class="action-btn" aria-label="全屏" id="fullscreenBtn" title="全屏模式">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M2 6V2H6M14 2H18V6M18 14V18H14M6 18H2V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                </button>
                <button class="mobile-menu-toggle" aria-label="打开菜单" aria-expanded="false" id="mobileMenuToggle">
                    <span class="hamburger-line"></span><span class="hamburger-line"></span><span class="hamburger-line"></span>
                </button>
            </div>
        </div>
        <div class="nav-border-decoration">
            <svg class="border-pattern" width="100%" height="4" preserveAspectRatio="none">
                <defs><linearGradient id="borderGradient" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="transparent" /><stop offset="20%" stop-color="#D4AF37" /><stop offset="50%" stop-color="#D4AF37" /><stop offset="80%" stop-color="#D4AF37" /><stop offset="100%" stop-color="transparent" /></linearGradient></defs>
                <rect width="100%" height="1" fill="url(#borderGradient)" />
            </svg>
        </div>
    </header>

    <!-- ========== 主内容 ========== -->
    <main class="detail-main">
        <div class="detail-container">
            <!-- 面包屑导航 -->
            <nav class="breadcrumb" data-aos="fade-right">
                <a href="../../index.html">首页</a>
                <svg viewBox="0 0 24 24" fill="none"><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                <a href="cultural-products.html">文创商店</a>
                <svg viewBox="0 0 24 24" fill="none"><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                <span id="breadcrumbName">产品详情</span>
            </nav>

            <!-- 产品卡片 -->
            <article class="product-card" data-aos="fade-up">
                <div class="product-hero">
                    <img id="productImgFull" alt="商品图片"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22800%22 height=%22450%22%3E%3Crect fill=%22%23F5F0E8%22 width=%22800%22 height=%22450%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-size=%2228%22 fill=%22%23D4AF37%22 font-family=%22serif%22%3E非遗文创%3C/text%3E%3C/svg%3E'">
                    <span class="badge" id="productBadge">非遗文创</span>
                </div>

                <div class="product-body">
                    <h1 class="product-title" id="productName"></h1>

                    <div class="product-price-row">
                        <span class="product-price-current" id="productPrice"></span>
                        <span class="product-price-original" id="productOrig"></span>
                        <span class="product-discount" id="productDiscount"></span>
                    </div>

                    <div class="detail-section" data-aos="fade-up" data-aos-delay="100">
                        <h3 class="detail-section-title">商品介绍</h3>
                        <p id="productDetail"></p>
                    </div>

                    <div class="detail-section" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="detail-section-title">规格参数</h3>
                        <p id="productSpec"></p>
                    </div>

                    <div class="detail-section" data-aos="fade-up" data-aos-delay="300">
                        <h3 class="detail-section-title">工艺背景</h3>
                        <p id="productProcess"></p>
                    </div>

                    <div class="product-actions" data-aos="fade-up" data-aos-delay="400">
                        <a href="cultural-products.html" class="action-btn-secondary">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 13L7 9L11 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                            返回商店
                        </a>
                        <button class="action-btn-primary" id="addCartBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4zM3 6h18M16 10a4 4 0 01-8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                            加入购物车
                        </button>
                    </div>
                </div>
            </article>
        </div>
    </main>

    <!-- ========== 页脚 ========== -->
    <footer class="site-footer" role="contentinfo">
        <div class="footer-main">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <svg width="40" height="40" viewBox="0 0 50 50"><polygon points="25,2 47,14 47,36 25,48 3,36 3,14" fill="none" stroke="#D4AF37" stroke-width="2" /><circle cx="25" cy="25" r="6" fill="#9D2933" /></svg>
                            <span>廊坊非遗数字中心</span>
                        </div>
                        <p class="footer-desc">以数字之笔，复刻花丝镶嵌的指尖乾坤。致力于非物质文化遗产的数字化保护与传承创新。</p>
                    </div>
                    <div class="footer-links"><h3>快速导航</h3><ul><li><a href="museum.html">虚拟博物馆</a></li><li><a href="experience.html">互动体验</a></li><li><a href="quiz.html">非遗答题</a></li><li><a href="ai-guide.html">智能导览</a></li></ul></div>
                    <div class="footer-contact"><h3>联系我们</h3><ul><li><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 1C4.686 1 2 3.686 2 7c0 4.5 6 8 6 8s6-3.5 6-8c0-3.314-2.686-6-6-6z" stroke="currentColor" stroke-width="1.5" /><circle cx="8" cy="7" r="2" stroke="currentColor" stroke-width="1.5" /></svg><span>河北省廊坊市大厂回族自治县</span></li><li><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 4l6 4 6-4M2 4h12v8H2V4z" stroke="currentColor" stroke-width="1.5" /></svg><a href="mailto:contact@lfich.cn">contact@lfich.cn</a></li></ul></div>
                </div>
            </div>
        </div>
        <div class="footer-bottom"><div class="container"><div class="footer-bottom-content"><p class="copyright">&copy; 2026 廊坊非遗数字中心 版权所有</p><div class="footer-bottom-links"><a href="#">隐私政策</a><a href="#">使用条款</a></div></div></div></div>
    </footer>

    <!-- ========== 返回顶部按钮 ========== -->
    <button class="back-to-top" id="backToTop" aria-label="返回顶部" hidden>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
        <span class="progress-ring"><svg width="44" height="44"><circle cx="22" cy="22" r="20" fill="none" stroke="currentColor" stroke-width="2" opacity="0.2" /><circle class="progress-circle" cx="22" cy="22" r="20" fill="none" stroke="currentColor" stroke-width="2" /></svg></span>
    </button>

    <!-- ========== JavaScript ========== -->
    <script async src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module" src="../main.js"></script>
    <script type="module">
        import { productList } from '../js/products-data.js';

        const cateNames = {
            'filigree': '花丝镶嵌', 'cloisonne': '景泰蓝', 'embroidery': '京绣',
            'kites': '风筝', 'ceramics': '陶瓷', 'lacquer': '漆器'
        };

        window.addEventListener('load', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            const product = productList.find(item => item.id === productId);

            if (product) {
                document.title = `${product.name} - 廊坊非遗数字中心`;
                document.getElementById('productName').textContent = product.name;
                document.getElementById('productPrice').textContent = `¥${product.price}`;
                document.getElementById('productOrig').textContent = `¥${product.orig}`;
                document.getElementById('productImgFull').src = product.img;
                document.getElementById('productImgFull').alt = product.name;
                document.getElementById('productDetail').textContent = product.detail;
                document.getElementById('productSpec').textContent = product.spec;
                document.getElementById('productProcess').textContent = product.process;
                document.getElementById('breadcrumbName').textContent = product.name;
                document.getElementById('productBadge').textContent = cateNames[product.cate] || '非遗文创';

                // 计算折扣
                const discount = Math.round((1 - product.price / product.orig) * 100);
                document.getElementById('productDiscount').textContent = `省${discount}%`;

                // 加入购物车
                document.getElementById('addCartBtn').addEventListener('click', function () {
                    let cart = JSON.parse(localStorage.getItem('lfichCart')) || [];
                    const existing = cart.findIndex(item => item.id === product.id);
                    if (existing > -1) {
                        cart[existing].count++;
                    } else {
                        cart.push({ id: product.id, name: product.name, price: product.price, img: product.img, count: 1 });
                    }
                    localStorage.setItem('lfichCart', JSON.stringify(cart));
                    this.textContent = '已加入购物车';
                    this.style.background = 'var(--color-gold)';
                    setTimeout(() => {
                        this.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4zM3 6h18M16 10a4 4 0 01-8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg> 加入购物车';
                        this.style.background = '';
                    }, 1500);
                });
            } else {
                document.querySelector('.detail-container').innerHTML = `
                    <div style="text-align: center; padding: 120px 0;">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" style="margin-bottom:24px;">
                            <circle cx="40" cy="40" r="35" stroke="#D4AF37" stroke-width="2" opacity="0.3" />
                            <path d="M30 30L50 50M50 30L30 50" stroke="#9D2933" stroke-width="3" stroke-linecap="round" />
                        </svg>
                        <h2 style="font-family:var(--font-serif);color:var(--color-ink-gray-light);margin-bottom:20px;">抱歉，未找到该文创产品</h2>
                        <a href="cultural-products.html" class="action-btn-secondary" style="display:inline-flex;">返回文创商店</a>
                    </div>
                `;
            }
        });
    </script>
</body>

</html>
